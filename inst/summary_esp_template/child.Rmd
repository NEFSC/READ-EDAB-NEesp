### `r file_name`
```{r}
# must set file path, metric, and lag
# NEesp::wrap_analysis(
#  file_path = file,
#  metric = met,
#  lag = lag,
#  species = params$species,
#  min_year = params$min_year
# )

dat <- prep_data_child(
  file_path = input$si_file$datapath,
  metric = input$si_metric,
  var = input$var_options
)

plt <- plot_corr_only(
  data = dat,
  lag = as.numeric(input$si_lag),
  species = input$si_species,
  mode = "download"
)
print(plt)

rpt_card_ind <- rbind(rpt_card_ind, make_ind_rpt(
  data = dat,
  var = input$var_options,
  metric = input$si_metric
))

rpt_card_time <- dplyr::full_join(rpt_card_time,
  time_rpt(this_data, out_name = var, min_year = min_year),
  by = "Time"
)
```
