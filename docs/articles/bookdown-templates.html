<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>About report templates â€¢ NEesp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="About report templates">
<meta property="og:description" content="NEesp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NEesp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/install-and-use-package.html">Install and use package</a>
    </li>
    <li>
      <a href="../articles/shiny-app.html">Use NEesp with the NEespShiny app</a>
    </li>
    <li>
      <a href="../articles/data.html">Data in NEesp</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About ESP
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/why-esp.html">Why ESP?</a>
    </li>
    <li>
      <a href="../articles/simple-methods.html">Simple description of methods</a>
    </li>
    <li>
      <a href="../articles/risk-assessment.html">Creating the risk assessment</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Report writing methods
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rmarkdown-intro.html">Intro to RMarkdown for report writing</a>
    </li>
    <li>
      <a href="../articles/general-workflow.html">General report creation workflow</a>
    </li>
    <li>
      <a href="../articles/bookdown-templates.html">Report templates</a>
    </li>
    <li>
      <a href="../articles/github-actions.html">Creating reports with Github Actions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../mailto:abigail.tyrell@noaa.gov">
    <span class="fas fa-paper-plane fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/NOAA-EDAB/NEesp/issues/">
    <span class="fas fa-question-circle fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/NOAA-EDAB/NEesp">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://nmfs-general-modeling-tools.github.io/">
    <span class="fas fa-fish"></span>
     
  </a>
</li>
        
        


      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="bookdown-templates_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>About report templates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/NOAA-EDAB/NEesp/blob/master/vignettes/bookdown-templates.Rmd"><code>vignettes/bookdown-templates.Rmd</code></a></small>
      <div class="hidden name"><code>bookdown-templates.Rmd</code></div>

    </div>

    
    
<div id="about-report-templates" class="section level2">
<h2 class="hasAnchor">
<a href="#about-report-templates" class="anchor"></a>About report templates</h2>
<div id="what-makes-an--rmd-file-a-template" class="section level3">
<h3 class="hasAnchor">
<a href="#what-makes-an--rmd-file-a-template" class="anchor"></a>What makes an .Rmd file a template?</h3>
<p>Generally speaking, any parameterized Rmarkdown file is a template. When the parameters are changed, a different output is created from the same Rmarkdown file(s). Depending on how the report is parameterized, any number of possible reports can be created. In the case of the <code>NEesp</code> reports, the Rmarkdown files are parameterized so a report can be created for any of the Northeast fisheries stocks by changing the stock input parameter. The template file structure allows reports to be automatically generated, which is much more quick compared to creating reports on individual stocks by hand.</p>
</div>
<div id="using-bookdown-for-templates" class="section level3">
<h3 class="hasAnchor">
<a href="#using-bookdown-for-templates" class="anchor"></a>Using <code>bookdown</code> for templates</h3>
<p>The <a href="https://bookdown.org/yihui/bookdown/"><code>bookdown</code> package</a> was designed to allow for easier creating of long-form Rmarkdown documents. Instead of creating one long document, reports can be generated from several shorter documents (chapters). Chapters can be flexibly inserted or removed from reports at the report generation step.</p>
</div>
<div id="the-template" class="section level3">
<h3 class="hasAnchor">
<a href="#the-template" class="anchor"></a>The template</h3>
<p>There are two general report template styles that we have used in this package.</p>
<div id="unique-data-analysis" class="section level4">
<h4 class="hasAnchor">
<a href="#unique-data-analysis" class="anchor"></a>Unique data analysis</h4>
<p>The first, and most intuitive, style is to create each chapter entirely from its own Rmarkdown file. In other words, each chapter would be written to display different data, using data manipulations and visualizations unique to that data set. The <a href="https://github.com/NOAA-EDAB/NEesp/tree/main/inst/indicator_bookdown_template">indicator bookdown template</a> primarily follows this format.</p>
</div>
<div id="analysis-with-a-child-doc" class="section level4">
<h4 class="hasAnchor">
<a href="#analysis-with-a-child-doc" class="anchor"></a>Analysis with a child doc</h4>
<p>A more automated way to create the template is to make each chapter from its own child document. This only works if all of the data being displayed has similar content and formatting. In this case, the same data manipulations and visualizations can be applied to multiple sets of data using a child document. This workflow cuts down on the amount of code that needs to be written, allows data manipulation and visualizations to be consistently produced for all data, and makes it easy to update the manipulations and visualizations for the entire report. The <a href="https://github.com/NOAA-EDAB/NEesp/tree/main/inst/correlation_bookdown_template">correlation bookdown template</a> follows this format.</p>
</div>
<div id="hybrid-template" class="section level4">
<h4 class="hasAnchor">
<a href="#hybrid-template" class="anchor"></a>Hybrid template</h4>
<p>Some data may be suitable for a child doc, while other data may require a unique analysis. In this case, the two template methods can be combined. For example, the <a href="https://github.com/NOAA-EDAB/NEesp/tree/main/inst/indicator_bookdown_template">indicator bookdown template</a> uses unique templates to display each indicator data set, but it uses a <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/indicator_bookdown_template/_risk-child-doc.Rmd">child doc</a> to plot the risk assessment data, since the risk assessment data has the same structure and general content for each indicator.</p>
</div>
</div>
</div>
<div id="the-indicator-report-template" class="section level2">
<h2 class="hasAnchor">
<a href="#the-indicator-report-template" class="anchor"></a>The indicator report template</h2>
<p>The indicator report template can be found <a href="https://github.com/NOAA-EDAB/NEesp/tree/dev/inst/indicator_bookdown_template">here</a>.</p>
<div id="the-index-file" class="section level3">
<h3 class="hasAnchor">
<a href="#the-index-file" class="anchor"></a>The index file</h3>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/indicator_bookdown_template/index.Rmd">index file</a> contains important set-up information for the report. Report specifications, including parameters, are defined in the YAML frontmatter. Data is read in, trimmed to only the stock of interest, and saved as a report output.</p>
</div>
<div id="the-chapters" class="section level3">
<h3 class="hasAnchor">
<a href="#the-chapters" class="anchor"></a>The chapters</h3>
<p>Each chapter displays indicator information about the stock (e.g., <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/indicator_bookdown_template/abundance.Rmd">the abundance section</a>). Data visualizations are created primarily with functions, to minimize the amount of code in the report template. All data manipulation and visualization contains conditional statements to handle missing data (either explicitly included in the template code, or in the back-end visualization functions).</p>
</div>
<div id="the-appendix" class="section level3">
<h3 class="hasAnchor">
<a href="#the-appendix" class="anchor"></a>The appendix</h3>
<p>The final chapter in the <code>bookdown</code> template is <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/indicator_bookdown_template/appendix.Rmd">an appendix</a>, which displays R session and package information.</p>
</div>
</div>
<div id="the-correlation-report-template" class="section level2">
<h2 class="hasAnchor">
<a href="#the-correlation-report-template" class="anchor"></a>The correlation report template</h2>
<p>The correlation report template can be found <a href="https://github.com/NOAA-EDAB/NEesp/tree/dev/inst/correlation_bookdown_template">here</a>.</p>
<div id="the-index-file-1" class="section level3">
<h3 class="hasAnchor">
<a href="#the-index-file-1" class="anchor"></a>The index file</h3>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/correlation_bookdown_template/index.Rmd">index file</a> contains important set-up information for the report. Report specifications, including parameters, are defined in the YAML frontmatter. Data is read in and trimmed to only the stock of interest. Some null variables are set for later use in the report, and there is a fail message that is output if no data exists for the parameters selected.</p>
</div>
<div id="the-indicator-chapters" class="section level3">
<h3 class="hasAnchor">
<a href="#the-indicator-chapters" class="anchor"></a>The indicator chapters</h3>
<p>Each chapter regresses an ecosystem indicator from the <a href="https://github.com/NOAA-EDAB/ecodata"><code>ecodata</code> package</a> against a stock parameter (abundance, recruitment, F, and catch). Because all <code>ecodata</code> data sets are in a standard format, the chapter analyses are conducted with a child document. Each indicator is assigned to a generic variable name and then passed to the child document with the <a href="https://noaa-edab.github.io/NEesp/reference/render_indicator.html"><code>render_indicator</code> function</a> (e.g., <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/correlation_bookdown_template/02-physical-indicators.Rmd">the physical indicators</a>). Some indicators have a small amount of pre-processing if necessary, for example selecting only one season of the indicator for the analysis.</p>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/correlation_bookdown_template/_general-child-doc.Rmd">child document</a> first merges the indicator data with the stock data and saves the data to the report output. Information about the stock-indicator correlations is recorded for the summary section.</p>
<p>Data is <a href="https://noaa-edab.github.io/NEesp/reference/plot_correlation.html">plotted</a>. If any correlations were statistically significant, the correlation information is <a href="https://noaa-edab.github.io/NEesp/reference/correlation_data.html">displayed</a>.</p>
<p>Finally, more information about the statistically significant correlations is recorded for the summary section.</p>
</div>
<div id="the-summary-chapter" class="section level3">
<h3 class="hasAnchor">
<a href="#the-summary-chapter" class="anchor"></a>The summary chapter</h3>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/correlation_bookdown_template/08-summary.Rmd">summary chapter</a> displays information about all of the statistically significant indicator-stock correlations from the report. An exploratory Generalized Linear Model is created using forward step wise selection of indicators statistically significant at the Bonferroni-corrected level.</p>
</div>
<div id="the-appendix-1" class="section level3">
<h3 class="hasAnchor">
<a href="#the-appendix-1" class="anchor"></a>The appendix</h3>
<p>The final chapter in the <code>bookdown</code> template is <a href="https://github.com/NOAA-EDAB/NEesp/blob/main/inst/correlation_bookdown_template/appendix.Rmd">an appendix</a>, which displays R session and package information.</p>
</div>
</div>
<div id="the-summary-report-template" class="section level2">
<h2 class="hasAnchor">
<a href="#the-summary-report-template" class="anchor"></a>The summary report template</h2>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/tree/dev/inst/summary_esp_template">summary report</a> can be created by the <a href="https://github.com/NOAA-EDAB/NEespShiny"><code>NEespShiny</code> app</a>; there is no wrapper R function to render this report at this time.</p>
<div id="the-intro-file" class="section level3">
<h3 class="hasAnchor">
<a href="#the-intro-file" class="anchor"></a>The intro file</h3>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/blob/dev/inst/summary_esp_template/intro.Rmd">intro file</a> contains important set-up information for the report. Report specifications, including parameters, are defined in the YAML frontmatter. However, no data is read in at this step.</p>
</div>
<div id="the-child-file" class="section level3">
<h3 class="hasAnchor">
<a href="#the-child-file" class="anchor"></a>The child file</h3>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/blob/dev/inst/summary_esp_template/child.Rmd">child file</a> is knit for each indicator of interest. Variables values are specified by the shiny app. The <a href="https://noaa-edab.github.io/NEesp/reference/wrap_analysis.html"><code>wrap_analysis</code> function</a> plots the data and adds report card information to a report card object that will be displayed at the end of the report.</p>
</div>
<div id="the-end-file" class="section level3">
<h3 class="hasAnchor">
<a href="#the-end-file" class="anchor"></a>The end file</h3>
<p>The <a href="https://github.com/NOAA-EDAB/NEesp/blob/dev/inst/summary_esp_template/end.Rmd">end file</a> displays the ESP report cards and appendix.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/atyrell3">Abigail Tyrell</a>, <a href="https://github.com/rtabandera">Ricky Tabandera</a>.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
