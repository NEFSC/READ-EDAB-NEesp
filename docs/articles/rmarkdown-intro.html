<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Intro to R Markdown templates • NEesp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Intro to R Markdown templates">
<meta property="og:description" content="NEesp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NEesp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/install-and-use-package.html">Install and use package</a>
    </li>
    <li>
      <a href="../articles/shiny-app.html">Use NEesp with the NEespShiny app</a>
    </li>
    <li>
      <a href="../articles/data.html">Data in NEesp</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    About ESP
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/why-esp.html">Why ESP?</a>
    </li>
    <li>
      <a href="../articles/simple-methods.html">Simple description of methods</a>
    </li>
    <li>
      <a href="../articles/risk-assessment.html">Creating the risk assessment</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Report writing methods
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/rmarkdown-intro.html">Intro to RMarkdown for report writing</a>
    </li>
    <li>
      <a href="../articles/general-workflow.html">General report creation workflow</a>
    </li>
    <li>
      <a href="../articles/bookdown-templates.html">Report templates</a>
    </li>
    <li>
      <a href="../articles/github-actions.html">Creating reports with Github Actions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../mailto:abigail.tyrell@noaa.gov">
    <span class="fas fa-paper-plane fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/NOAA-EDAB/NEesp/issues/">
    <span class="fas fa-question-circle fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/NOAA-EDAB/NEesp">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://nmfs-general-modeling-tools.github.io/">
    <span class="fas fa-fish"></span>
     
  </a>
</li>
        
        


      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rmarkdown-intro_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Intro to R Markdown templates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/NOAA-EDAB/NEesp/blob/master/vignettes/rmarkdown-intro.Rmd"><code>vignettes/rmarkdown-intro.Rmd</code></a></small>
      <div class="hidden name"><code>rmarkdown-intro.Rmd</code></div>

    </div>

    
    
<div id="the-basics" class="section level2">
<h2 class="hasAnchor">
<a href="#the-basics" class="anchor"></a>The basics</h2>
<div id="r-markdown" class="section level3">
<h3 class="hasAnchor">
<a href="#r-markdown" class="anchor"></a>R Markdown</h3>
<p>R Markdown is a simple markdown structure that allows you to combine text and code. A comprehensive introduction to R Markdown can be found <a href="https://bookdown.org/yihui/rmarkdown/">here</a>.</p>
</div>
<div id="parameterized-r-markdown-documemts" class="section level3">
<h3 class="hasAnchor">
<a href="#parameterized-r-markdown-documemts" class="anchor"></a>Parameterized R Markdown documemts</h3>
<p>Parameterized R Markdown documents allow you to create reports with dynamic input. Parameters specified in the YAML header can be updated, producing a new report with new values and custom analysis. For example, the YAML for the indicator reports contains the lines:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">params</span><span class="op">:</span>
  <span class="va">species_ID</span></code></pre></div>
<p>When <code>params$species_ID</code> is called in the report, it will reference a dynamic species name that can be chosen by the user. To render parameterized report for Black sea bass, the following code snippet would be used:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html">render</a></span><span class="op">(</span><span class="va">...</span>, params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>species_ID <span class="op">=</span> <span class="st">"Black sea bass"</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
<p><a href="https://www.youtube.com/watch?v=p55q2szc3I8">This video</a> gives an excellent introduction to parameterization in R Markdown.</p>
</div>
<div id="automated-report-creation" class="section level3">
<h3 class="hasAnchor">
<a href="#automated-report-creation" class="anchor"></a>Automated report creation</h3>
<p>Once you have created a parameterized R Markdown report, automation is simple. A <code>for</code> loop can be used to create reports for a list of species:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">species</span> <span class="op">&lt;-</span> <span class="fu">NEesp</span><span class="fu">::</span><span class="va"><a href="../reference/species_key.html">species_key</a></span><span class="op">$</span><span class="va">Species</span>
<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">species</span><span class="op">)</span><span class="op">{</span>
  <span class="fu">rmarkdown</span><span class="fu">::</span><span class="fu"><a href="https://pkgs.rstudio.com/rmarkdown/reference/render.html">render</a></span><span class="op">(</span><span class="va">...</span>, params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>species_ID <span class="op">=</span> <span class="va">i</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p><code>lapply</code> and <code><a href="https://purrr.tidyverse.org/reference/map.html">purrr::map</a></code> can also be used in many cases.</p>
</div>
</div>
<div id="advanced-r-markdown" class="section level2">
<h2 class="hasAnchor">
<a href="#advanced-r-markdown" class="anchor"></a>Advanced R Markdown</h2>
<p>The examples above are minimal examples. More complex reports can be created with more parameters and more rendering options. There are also additional technical tools that can be used to enhance R Markdown reports.</p>
<div id="bookdown" class="section level3">
<h3 class="hasAnchor">
<a href="#bookdown" class="anchor"></a>Bookdown</h3>
<p>The <a href="https://bookdown.org/yihui/bookdown/"><code>bookdown</code> package</a> offers many useful extensions of the functionality of R Markdown. Most notably, documents created with <code>bookdown</code> are saved in a series of separate files (“chapters” or “sections”), allowing long reports to be broken up into more manageable chunks. Sections can easily be inserted and removed from the report.</p>
</div>
<div id="child-documents" class="section level3">
<h3 class="hasAnchor">
<a href="#child-documents" class="anchor"></a>Child documents</h3>
<p><a href="https://bookdown.org/yihui/rmarkdown-cookbook/child-document.html">Child documents</a> are a flexible way to include additional R Markdown sections in the report. The <code>NEesp::render_ind</code> function is a simple wrapper to render a child document. In each section of the regression report template, variable values are assigned, and then <code>NEesp::render_ind</code> is called to knit the child documents with the new variable values.</p>
</div>
<div id="github-actions" class="section level3">
<h3 class="hasAnchor">
<a href="#github-actions" class="anchor"></a>Github Actions</h3>
<p>Github Actions allow code to be run on a remote runner. When rendering a large number of reports, it can be time-consuming to render all of the reports on a local machine. With Github Actions, the reports can be rendered remotely and then deployed to a github pages website.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/atyrell3">Abigail Tyrell</a>, <a href="https://github.com/rtabandera">Ricky Tabandera</a>.</p>
</div>

<div class="pkgdown">
  <p>Made with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1, using <a href="https://preferably.amirmasoudabdol.name/?source=footer">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
